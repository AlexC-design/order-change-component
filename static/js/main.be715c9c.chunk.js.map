{"version":3,"sources":["components/BookingDate/BookingDate.js","components/TimeLeft/TimeLeft.js","components/EditOrderButton/EditOrderButton.js","components/Calendar/Calendar.js","App.js","index.js","assets/calendar-icon.svg","assets/loading-icon.svg"],"names":["BookingDate","date","className","TimeLeft","time","EditOrderButton","Calendar","src","calendarIcon","alt","App","useState","moment","startDate","setStartDate","loading","setLoading","cutoffHour","setCutoffHour","timeDifferece","setTimeDifferece","useEffect","a","axios","get","response","add","set","hour","data","minute","second","millisecond","fetchHour","setTimeout","difference","diff","duration","durationDisplay","asSeconds","days","hours","minutes","seconds","getTimeDifferece","loadingIcon","format","selected","toDate","onChange","changeDate","ReactDOM","render","document","getElementById","module","exports"],"mappings":"oPAIaA,G,MAAc,SAAC,GAAc,IAAZC,EAAW,EAAXA,KAC5B,OACE,yBAAKC,UAAU,WACb,yBAAKA,UAAU,iBAAf,iCACA,yBAAKA,UAAU,iBAAiBD,MCJzBE,G,MAAW,SAAC,GAAc,IAAZC,EAAW,EAAXA,KACzB,OACE,yBAAKF,UAAU,uBACb,yBAAKA,UAAU,6BAA6BE,GAC5C,yBAAKF,UAAU,6BAAf,wBACA,yBAAKA,UAAU,wCCLRG,G,MAAkB,WAC7B,OAAO,4BAAQH,UAAU,qBAAlB,gB,iBCAII,G,MAAW,WACtB,OACE,yBAAKJ,UAAU,YACb,yBAAKK,IAAKC,IAAcC,IAAI,gB,iBCqGnBC,G,YAhGH,WAAO,IAAD,EACkBC,mBAASC,OAD3B,mBACTC,EADS,KACEC,EADF,OAEcH,oBAAS,GAFvB,mBAETI,EAFS,KAEAC,EAFA,OAGoBL,mBAAS,OAH7B,mBAGTM,EAHS,KAGGC,EAHH,OAI0BP,mBAAS,kBAJnC,mBAITQ,EAJS,KAIMC,EAJN,KAsEhB,OAnDAC,qBAAU,YACO,uCAAG,4BAAAC,EAAA,sEACOC,IAAMC,IAC3B,oDAFc,OACVC,EADU,OAMhBX,EACEF,MACGc,IAAI,EAAG,OACPC,IAAI,CACHC,KAAMH,EAASI,KAAKZ,WACpBa,OAAQ,EACRC,OAAQ,EACRC,YAAa,KAInBd,EAAcO,EAASI,KAAKZ,YAE5BD,GAAW,GAnBK,2CAAH,qDAsBfiB,KACC,IAGHZ,qBAAU,WAmBRa,YAAW,YAjBc,SAAArB,GACvB,IAAIsB,EAAatB,EAAUuB,KAAKxB,OAC5ByB,EAAWzB,IAAOyB,SAASF,GAG3BG,EAAkB,UAGjBA,EADLD,EAASE,YAAc,EACA,UACH,UAAwB,GAAlBF,EAASG,OAAcH,EAASI,QAAtC,gBACO,IAArBJ,EAASI,SAAqC,IAApBJ,EAASG,OAAe,GAAK,IADzC,YAEZH,EAASK,UAFG,iBAEeL,EAASM,UAFxB,SAKpBvB,EAAiBkB,GAIjBM,CAAiB/B,KAChB,QAGDE,GAA6B,mBAAlBI,EAEX,yBAAKjB,UAAU,WACb,yBAAKK,IAAKsC,IAAapC,IAAI,UAAUP,UAAU,mBAKjD,yBAAKA,UAAU,eACb,kBAAC,EAAD,CAAaD,KAAMW,IAAOC,GAAWiC,OAAO,wBAC5C,kBAAC,EAAD,CAAU1C,KAAMe,IAChB,yBAAKjB,UAAU,qBAAf,iCACgC,2BAAIe,EAAJ,MADhC,mCAImB,YAAlBE,GAA+B,kBAAC,EAAD,MAChC,kBAAC,IAAD,CACE4B,SAAUlC,EAAUmC,SACpBC,SAAU,SAAAhD,GAAI,OAjFH,SAACA,EAAMgB,GACxBH,EACEF,IAAOX,GAAM0B,IAAI,CACfC,KAAMX,EACNa,OAAQ,EACRC,OAAQ,EACRC,YAAa,KA2EOkB,CAAWjD,EAAMgB,MAErC,kBAAC,EAAD,SClGRkC,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,U,mBCLjDC,EAAOC,QAAU,IAA0B,2C,mBCA3CD,EAAOC,QAAU,IAA0B,0C","file":"static/js/main.be715c9c.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nimport \"./css/booking-date.css\";\r\n\r\nexport const BookingDate = ({ date }) => {\r\n  return (\r\n    <div className=\"booking\">\r\n      <div className=\"booking__text\">Your collection is booked for</div>\r\n      <div className=\"booking__date\">{date}</div>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\n\r\nimport \"./css/time-left.css\";\r\n\r\nexport const TimeLeft = ({ time }) => {\r\n  return (\r\n    <div className=\"time-left-container\">\r\n      <div className=\"time-left-container__time\">{time}</div>\r\n      <div className=\"time-left-container__text\">left to make changes</div>\r\n      <div className=\"time-left-container__white-cover\" />\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\n\r\nimport \"./css/edit-order-button.css\";\r\n\r\nexport const EditOrderButton = () => {\r\n  return <button className=\"edit-order-button\">Edit Order</button>;\r\n};\r\n","import React from \"react\";\r\nimport calendarIcon from \"../../assets/calendar-icon.svg\";\r\n\r\nimport \"./css/calendar.css\";\r\n\r\nexport const Calendar = () => {\r\n  return (\r\n    <div className=\"calendar\">\r\n      <img src={calendarIcon} alt=\"calendar\" />\r\n    </div>\r\n  );\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport moment from \"moment\";\r\nimport DatePicker from \"react-datepicker\";\r\nimport { BookingDate } from \"./components/BookingDate/BookingDate\";\r\nimport { TimeLeft } from \"./components/TimeLeft/TimeLeft\";\r\nimport { EditOrderButton } from \"./components/EditOrderButton/EditOrderButton\";\r\nimport { Calendar } from \"./components/Calendar/Calendar\";\r\nimport loadingIcon from \"./assets/loading-icon.svg\";\r\n\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport \"./css/app.css\";\r\n\r\nconst App = () => {\r\n  const [startDate, setStartDate] = useState(moment());\r\n  const [loading, setLoading] = useState(true);\r\n  const [cutoffHour, setCutoffHour] = useState(\"n/a\");\r\n  const [timeDifferece, setTimeDifferece] = useState(\"calculating...\");\r\n\r\n  //booking date changing function\r\n  const changeDate = (date, cutoffHour) => {\r\n    setStartDate(\r\n      moment(date).set({\r\n        hour: cutoffHour,\r\n        minute: 0,\r\n        second: 0,\r\n        millisecond: 0\r\n      })\r\n    );\r\n  };\r\n\r\n  // -- code executed at component mounting\r\n  useEffect(() => {\r\n    const fetchHour = async () => {\r\n      const response = await axios.get(\r\n        \"https://uk-live-support.lovespace.com/cutOffTime\"\r\n      );\r\n\r\n      //setting default booking date to tomorrow at 11AM (cutoffHour)\r\n      setStartDate(\r\n        moment()\r\n          .add(1, \"day\")\r\n          .set({\r\n            hour: response.data.cutoffHour,\r\n            minute: 0,\r\n            second: 0,\r\n            millisecond: 0\r\n          })\r\n      );\r\n\r\n      setCutoffHour(response.data.cutoffHour);\r\n\r\n      setLoading(false);\r\n    };\r\n\r\n    fetchHour();\r\n  }, []);\r\n\r\n  // -- code executed on component update\r\n  useEffect(() => {\r\n    //calculating time difference\r\n    const getTimeDifferece = startDate => {\r\n      let difference = startDate.diff(moment());\r\n      let duration = moment.duration(difference);\r\n\r\n      //creating 'time left' display message (e.g. 14 hour(s) 12 mins 43 secs)\r\n      let durationDisplay = \"0 hours\";\r\n\r\n      duration.asSeconds() < 0\r\n        ? (durationDisplay = \"0 hours\")\r\n        : (durationDisplay = `${duration.days() * 24 + duration.hours()} hour${\r\n            duration.hours() === 1 && duration.days() === 0 ? \"\" : \"s\"\r\n          } ${duration.minutes()} mins ${duration.seconds()} secs`);\r\n\r\n      //updating time difference\r\n      setTimeDifferece(durationDisplay);\r\n    };\r\n\r\n    setTimeout(() => {\r\n      getTimeDifferece(startDate);\r\n    }, 1000);\r\n  });\r\n\r\n  if (loading || timeDifferece === \"calculating...\") {\r\n    return (\r\n      <div className=\"loading\">\r\n        <img src={loadingIcon} alt=\"loading\" className=\"loading__icon\" />\r\n      </div>\r\n    );\r\n  } else {\r\n    return (\r\n      <div className=\"main-screen\">\r\n        <BookingDate date={moment(startDate).format(\"dddd, Do MMMM YYYY\")} />\r\n        <TimeLeft time={timeDifferece} />\r\n        <div className=\"main-screen__text\">\r\n          You can edit your order up to <b>{cutoffHour}AM</b> the day before\r\n          your collection\r\n        </div>\r\n        {timeDifferece !== \"0 hours\" && <EditOrderButton />}\r\n        <DatePicker\r\n          selected={startDate.toDate()}\r\n          onChange={date => changeDate(date, cutoffHour)}\r\n        />\r\n        <Calendar />\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n","module.exports = __webpack_public_path__ + \"static/media/calendar-icon.93d02be0.svg\";","module.exports = __webpack_public_path__ + \"static/media/loading-icon.a0ad76c9.svg\";"],"sourceRoot":""}